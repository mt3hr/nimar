(function(){"use strict";var e={1729:function(e,t,o){var n=o(9242),a=o(3396),r=o(7718),i=o(9271);function l(e,t,o,n,l,u){const s=(0,a.up)("router-view");return(0,a.wg)(),(0,a.j4)(r.q,null,{default:(0,a.w5)((()=>[(0,a.Wm)(i.O,null,{default:(0,a.w5)((()=>[(0,a.Wm)(s)])),_:1})])),_:1})}var u=(0,a.aZ)({name:"App"}),s=o(89);const d=(0,s.Z)(u,[["render",l]]);var c=d,_=o(2483),m=o(7139),f=o(702),h=o(3093),p=o(6572),b=o(1888),w=o(1334),g=o(8349),v=o(3369),y=o(6824),k=o(9234),j=o(3906);const W=(0,a._)("h1",null,"NimaR",-1),O={class:"room"},C={class:"player_name"};function Z(e,t,o,n,r,i){return(0,a.wg)(),(0,a.j4)(v.K,{class:"pa-3"},{default:(0,a.w5)((()=>[(0,a.Wm)(v.K,null,{default:(0,a.w5)((()=>[(0,a.Wm)(y.o,null,{default:(0,a.w5)((()=>[W,(0,a.Wm)(k.C),(0,a.Wm)(f.T,{class:"mt-3",onClick:e.show_add_room_dialog},{default:(0,a.w5)((()=>[(0,a.Uk)(" 部屋を作成 ")])),_:1},8,["onClick"])])),_:1})])),_:1}),((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(e.rooms,(t=>((0,a.wg)(),(0,a.j4)(h._,{class:"room_list pa-2",key:t.table_id},{default:(0,a.w5)((()=>[(0,a._)("div",O,[(0,a.Wm)(p.E,null,{default:(0,a.w5)((()=>[(0,a.Uk)((0,m.zw)(t.TableName),1)])),_:2},1024),(0,a.Wm)(b.Z,{class:"pa-2"},{default:(0,a.w5)((()=>[((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(t.PlayerNames,(e=>((0,a.wg)(),(0,a.iD)("div",{class:"player_list",key:e},[(0,a._)("div",C,[(0,a._)("li",null,(0,m.zw)(e),1)])])))),128))])),_:2},1024),(0,a.Wm)(w.h,null,{default:(0,a.w5)((()=>[(0,a.Wm)(k.C),(0,a.Wm)(f.T,{onClick:()=>e.join_room(t.TableID)},{default:(0,a.w5)((()=>[(0,a.Uk)("参加")])),_:2},1032,["onClick"])])),_:2},1024)])])),_:2},1024)))),128)),(0,a.Wm)(v.K,null,{default:(0,a.w5)((()=>[(0,a.Wm)(y.o)])),_:1}),(0,a.Wm)(g.B,{modelValue:e.is_show_add_table_dialog,"onUpdate:modelValue":t[1]||(t[1]=t=>e.is_show_add_table_dialog=t)},{default:(0,a.w5)((()=>[(0,a.Wm)(h._,{class:"pa-3"},{default:(0,a.w5)((()=>[(0,a.Wm)(j.h,{modelValue:e.add_table_name,"onUpdate:modelValue":t[0]||(t[0]=t=>e.add_table_name=t),placeholder:"部屋名"},null,8,["modelValue"]),(0,a.Wm)(w.h,null,{default:(0,a.w5)((()=>[(0,a.Wm)(k.C),(0,a.Wm)(f.T,{onClick:e.add_room},{default:(0,a.w5)((()=>[(0,a.Uk)("部屋を作成")])),_:1},8,["onClick"])])),_:1})])),_:1})])),_:1},8,["modelValue"])])),_:1})}var T=o(2482);o(7658);class P{constructor(){(0,T.Z)(this,"_hostname",location.hostname),(0,T.Z)(this,"_port","2222")}get hostname(){return this._hostname}get port(){return this._port}get_player_id_promise(){return fetch("http://"+this.hostname+":"+this.port+"/nimar/get_player_id")}generate_list_room_socket(){return new WebSocket("ws://"+this.hostname+":"+this.port+"/nimar/ws_list_table")}generate_join_room_socket(e,t,o){return new WebSocket("ws://"+this.hostname+":"+this.port+"/nimar/ws_game_table?tableid="+e+"&playerid="+t+"&playername="+o)}create_table_promise(e){return fetch("http://"+this.hostname+":"+this.port+"/nimar/create_table?table_name="+e)}}var V=new P,S=o(6520);class U extends S.w3{constructor(...e){super(...e),(0,T.Z)(this,"rooms",[]),(0,T.Z)(this,"table_socket",void 0),(0,T.Z)(this,"is_show_add_table_dialog",!1),(0,T.Z)(this,"add_table_name","")}created(){this.table_socket=V.generate_list_room_socket(),this.table_socket.onmessage=e=>{console.log(e.data),this.rooms=e.data.json()}}show_add_room_dialog(){this.is_show_add_table_dialog=!0}add_room(){let e=this.add_table_name;this.add_table_name="",this.is_show_add_table_dialog=!1,V.create_table_promise(e)}join_room(e){this.$router.push("/room?tableid="+e)}}const E=(0,s.Z)(U,[["render",Z]]);var x=E;function N(e,t,o,n,r,i){return(0,a.wg)(),(0,a.iD)("div",null,[(0,a.Wm)(g.B,{modelValue:e.is_show_player_name_dialog,"onUpdate:modelValue":t[1]||(t[1]=t=>e.is_show_player_name_dialog=t)},{default:(0,a.w5)((()=>[(0,a.Wm)(h._,{class:"pa-3"},{default:(0,a.w5)((()=>[(0,a.Wm)(j.h,{modelValue:e.player_name,"onUpdate:modelValue":t[0]||(t[0]=t=>e.player_name=t),placeholder:"名前"},null,8,["modelValue"]),(0,a.Wm)(w.h,null,{default:(0,a.w5)((()=>[(0,a.Wm)(k.C),(0,a.Wm)(f.T,{onClick:e.join_room},{default:(0,a.w5)((()=>[(0,a.Uk)("入室")])),_:1},8,["onClick"])])),_:1})])),_:1})])),_:1},8,["modelValue"])])}class A extends S.w3{constructor(...e){super(...e),(0,T.Z)(this,"game_table_socket",void 0),(0,T.Z)(this,"is_show_player_name_dialog",!1),(0,T.Z)(this,"player_name","")}created(){this.is_show_player_name_dialog=!0}join_room(){V.get_player_id_promise().then((e=>{this.game_table_socket=V.generate_join_room_socket(String(this.$route.query.tableid),String(e.PlayerId),this.player_name),this.is_show_player_name_dialog=!1,this.game_table_socket.onmessage=e=>{console.log(e)}}))}}const D=(0,s.Z)(A,[["render",N]]);var K=D;const M=[{path:"/",name:"roomlist",component:x},{path:"/room",name:"room",component:K}],q=(0,_.p7)({history:(0,_.PO)("/"),routes:M});var B=q,R=(o(9773),o(8685)),z=(0,R.Rd)();async function F(){const e=await o.e(461).then(o.t.bind(o,3657,23));e.load({google:{families:["Roboto:100,300,400,500,700,900&display=swap"]}})}F(),(0,n.ri)(c).use(B).use(z).mount("#app")}},t={};function o(n){var a=t[n];if(void 0!==a)return a.exports;var r=t[n]={exports:{}};return e[n](r,r.exports,o),r.exports}o.m=e,function(){var e=[];o.O=function(t,n,a,r){if(!n){var i=1/0;for(d=0;d<e.length;d++){n=e[d][0],a=e[d][1],r=e[d][2];for(var l=!0,u=0;u<n.length;u++)(!1&r||i>=r)&&Object.keys(o.O).every((function(e){return o.O[e](n[u])}))?n.splice(u--,1):(l=!1,r<i&&(i=r));if(l){e.splice(d--,1);var s=a();void 0!==s&&(t=s)}}return t}r=r||0;for(var d=e.length;d>0&&e[d-1][2]>r;d--)e[d]=e[d-1];e[d]=[n,a,r]}}(),function(){o.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return o.d(t,{a:t}),t}}(),function(){var e,t=Object.getPrototypeOf?function(e){return Object.getPrototypeOf(e)}:function(e){return e.__proto__};o.t=function(n,a){if(1&a&&(n=this(n)),8&a)return n;if("object"===typeof n&&n){if(4&a&&n.__esModule)return n;if(16&a&&"function"===typeof n.then)return n}var r=Object.create(null);o.r(r);var i={};e=e||[null,t({}),t([]),t(t)];for(var l=2&a&&n;"object"==typeof l&&!~e.indexOf(l);l=t(l))Object.getOwnPropertyNames(l).forEach((function(e){i[e]=function(){return n[e]}}));return i["default"]=function(){return n},o.d(r,i),r}}(),function(){o.d=function(e,t){for(var n in t)o.o(t,n)&&!o.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})}}(),function(){o.f={},o.e=function(e){return Promise.all(Object.keys(o.f).reduce((function(t,n){return o.f[n](e,t),t}),[]))}}(),function(){o.u=function(e){return"js/webfontloader.734df1be.js"}}(),function(){o.miniCssF=function(e){}}(),function(){o.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}()}(),function(){o.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)}}(),function(){var e={},t="nimar:";o.l=function(n,a,r,i){if(e[n])e[n].push(a);else{var l,u;if(void 0!==r)for(var s=document.getElementsByTagName("script"),d=0;d<s.length;d++){var c=s[d];if(c.getAttribute("src")==n||c.getAttribute("data-webpack")==t+r){l=c;break}}l||(u=!0,l=document.createElement("script"),l.charset="utf-8",l.timeout=120,o.nc&&l.setAttribute("nonce",o.nc),l.setAttribute("data-webpack",t+r),l.src=n),e[n]=[a];var _=function(t,o){l.onerror=l.onload=null,clearTimeout(m);var a=e[n];if(delete e[n],l.parentNode&&l.parentNode.removeChild(l),a&&a.forEach((function(e){return e(o)})),t)return t(o)},m=setTimeout(_.bind(null,void 0,{type:"timeout",target:l}),12e4);l.onerror=_.bind(null,l.onerror),l.onload=_.bind(null,l.onload),u&&document.head.appendChild(l)}}}(),function(){o.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})}}(),function(){o.p="/"}(),function(){var e={143:0};o.f.j=function(t,n){var a=o.o(e,t)?e[t]:void 0;if(0!==a)if(a)n.push(a[2]);else{var r=new Promise((function(o,n){a=e[t]=[o,n]}));n.push(a[2]=r);var i=o.p+o.u(t),l=new Error,u=function(n){if(o.o(e,t)&&(a=e[t],0!==a&&(e[t]=void 0),a)){var r=n&&("load"===n.type?"missing":n.type),i=n&&n.target&&n.target.src;l.message="Loading chunk "+t+" failed.\n("+r+": "+i+")",l.name="ChunkLoadError",l.type=r,l.request=i,a[1](l)}};o.l(i,u,"chunk-"+t,t)}},o.O.j=function(t){return 0===e[t]};var t=function(t,n){var a,r,i=n[0],l=n[1],u=n[2],s=0;if(i.some((function(t){return 0!==e[t]}))){for(a in l)o.o(l,a)&&(o.m[a]=l[a]);if(u)var d=u(o)}for(t&&t(n);s<i.length;s++)r=i[s],o.o(e,r)&&e[r]&&e[r][0](),e[r]=0;return o.O(d)},n=self["webpackChunknimar"]=self["webpackChunknimar"]||[];n.forEach(t.bind(null,0)),n.push=t.bind(null,n.push.bind(n))}();var n=o.O(void 0,[998],(function(){return o(1729)}));n=o.O(n)})();
//# sourceMappingURL=app.67ac536e.js.map